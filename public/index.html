<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Whack-a-Mole Game</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <!-- My Personalized CSS Stylesheet -->
        <link rel="stylesheet" href="/whack-a-mole.css">
    </head>
    <body>
        <!-- Page Header -->
        <h1 id="heading">Whack-a-Mole Game</h1>

        <!-- Game -->
        <div id="row-1" class="col-md-10 col-md-offset-2">
            <div id="sqr-1" class="col-md-10 col-md-offset-2">
                <div id="mole-1"></div>
            </div>
            <div id="sqr-2" class="col-md-10 col-md-offset-2">
                <div id="mole-2"></div>
            </div>
            <div id="sqr-3" class="col-md-10 col-md-offset-2">
                <div id="mole-3"></div>
            </div>
        </div>
        <div id="row-2" class="col-md-10 col-md-offset-2">
            <div id="sqr-4" class="col-md-10 col-md-offset-2">
                <div id="mole-4"></div>
            </div>
            <div id="sqr-5" class="col-md-10 col-md-offset-2">
                <div id="mole-5"></div>
            </div>
            <div id="sqr-6" class="col-md-10 col-md-offset-2">
                <div id="mole-6"></div>
            </div>
        </div>
        <div id="row-3" class="col-md-10 col-md-offset-2">
            <div id="sqr-7" class="col-md-10 col-md-offset-2">
                <div id="mole-7"></div>
            </div>
            <div id="sqr-8" class="col-md-10 col-md-offset-2">
                <div id="mole-8"></div>
            </div>
            <div id="sqr-9" class="col-md-10 col-md-offset-2">
                <div id="mole-9"></div>
            </div>
        </div>

        <!-- jQuery CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        
        <script>
            $(document).ready(function() {
                "use strict";

                // this is a global variable that contains an array of the IDs where the mole will randomly appear
                var moles = ['#mole-1', '#mole-2', '#mole-3', '#mole-4', '#mole-5', '#mole-6', '#mole-7', '#mole-8', '#mole-9'];
                // this is a global variable that contains an empty array. This is where the sequence of random squares will be pushed 
                var sequence = [];

                // this function randomly selects a square where the mole will appear 
                function moleSquare(){

                    // this is the randomizer
                    var randomMole = Math.floor((Math.random() * moles.length));

                    // this pushes my random number into an array
                    sequence.push(randomMole);

                    // this loops through my 'sequence' array
                    var count = 0;
                    var interval = 1000; // interval time in milliseconds

                    var moleTurn = setInterval(function () {
                        if (count == sequence.length) {
                            count = 0;
                            clearInterval(moleTurn);
                        } else {
                            var moleIndex = sequence[count];
                            var mole = moles[moleIndex];

                            $(mole).css('background-color', 'red').fadeToggle();
                            count++;
                        }
                    }, interval);
                };

                 // This calls the moleSquare function, causing it to run on page load 
                moleSquare();
            });
        </script>
    </body>
</html>