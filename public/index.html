<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Whack-a-Mole Game</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <!-- My Personalized CSS Stylesheet -->
        <link rel="stylesheet" href="/whack-a-mole.css">
    </head>
    <body>
        <!-- Page Header -->
        <h1 id="heading">Whack-a-Mole Game</h1>

        <!-- Score -->
        <div id="score-text" class=" score col-md-6 col-md-offset-3">
            <h3>Your Score: </h3>
        </div>
        <div id="score" class="score col-md-6 col-md-offset-3">
            
        </div>

        <!-- Game -->
        <div id="game">
            <div id="row-1" class="col-md-10 col-md-offset-2">
                <div id="sqr-1" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-1"></div>
                </div>
                <div id="sqr-2" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-2"></div>
                </div>
                <div id="sqr-3" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-3"></div>
                </div>
            </div>
            <div id="row-2" class="col-md-10 col-md-offset-2">
                <div id="sqr-4" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-4"></div>
                </div>
                <div id="sqr-5" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-5"></div>
                </div>
                <div id="sqr-6" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-6"></div>
                </div>
            </div>
            <div id="row-3" class="col-md-10 col-md-offset-2">
                <div id="sqr-7" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-7"></div>
                </div>
                <div id="sqr-8" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-8"></div>
                </div>
                <div id="sqr-9" class=" square col-md-10 col-md-offset-2">
                    <div id="mole-9"></div>
                </div>
            </div>
        </div>
        
        <!-- jQuery CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        
        <script>
            $(document).ready(function() {
                "use strict";

                // this is a global variable that contains an array of the IDs where the mole will randomly appear
                var moles = ['#mole-1', '#mole-2', '#mole-3', '#mole-4', '#mole-5', '#mole-6', '#mole-7', '#mole-8', '#mole-9'];

                // these are global variables that I will use in my code 
                var moleIndex, mole;
                var count = 0;
                var moleTurn;
                var interval;

                // this function randomly selects a square where the mole will appear 
                function moleSquare(){

                    
                    interval = 1000; // interval time in milliseconds
                    var randomMole = 0;

                    moleTurn = setInterval(function () {
                        // This sets the mole to 0 and causes the background color to be white 
                        mole = moles[randomMole];
                        $(mole).css('background-color', 'white').fadeIn();

                        // This is the randomizer 
                        randomMole = Math.floor((Math.random() * moles.length));
                        
                        // This reassigns the value of the mole variable to the randomMole value 
                        mole = moles[randomMole];

                        // This changes the color of the square where the random mole is to red 
                        $(mole).css('background-color', 'red').fadeIn();
                    }, interval);
                };

                 // This calls the moleSquare function, causing it to run on page load 
                moleSquare();

                // This makes the game go faster as the count gets higher
                function speedIncrease() {
                    if (count == 5) {
                        interval = 900;
                        console.log(count);
                        console.log(interval);
                    } if (count == 10) {
                        interval = 800;
                        console.log(count);
                        console.log(interval);
                    } if (count == 15) {
                        interval = 750;
                        console.log(count);
                        console.log(interval);
                    } if (count == 20) {
                        interval = 500;
                        console.log(count);
                        console.log(interval);
                    } if (count == 25){
                        interval = 250;
                        console.log(count);
                        console.log(interval);
                    } if (count == 30) {
                        clearInterval(moleTurn);
                    }    
                }; 

                // This checks to see if the user has clicked the correct square
                function checkClick(click) {
                    return click == squareClicked;
                };

                $('.square').click(function(event){
                    var id = event.target.id;
                    if ('#' + id == mole) {
                        count++;
                        // This calls the speedIncrease function
                        speedIncrease();
                        
                        // This adds the score above the game board 
                        $('#score').html('<h3>' + count + '</h3');   
                    } else {
                        console.log('Wrong square');
                    }
                });
            });
        </script>
    </body>
</html>